"use strict";var _slicedToArray=function(n,c){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,c){var i=[],o=!0,e=!1,r=void 0;try{for(var t,a=n[Symbol.iterator]();!(o=(t=a.next()).done)&&(i.push(t.value),!c||i.length!==c);o=!0);}catch(n){e=!0,r=n}finally{try{!o&&a.return&&a.return()}finally{if(e)throw r}}return i}(n,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function fibonacciBlockMaker(n){var c=document.createElement("div");return c.classList.add("fibonacci-block__child"),c.innerHTML=1==n||2==n?'<div class="fibonacci-block">\n                                        <p class="fibonacci-block__function-name fibonacci-block__function-name--resolved fibonacci-block__top-row">fib('+n+')</p>\n                                        <p class="fibonacci-block__return-value fibonacci-block__return-value--returned fibonacci-block__bottom-row">1</p>\n                                    </div>':'<div class="fibonacci-block">\n                                        <p class="fibonacci-block__function-name fibonacci-block__top-row">fib('+n+')</p>\n                                        <p class="fibonacci-block__return-value fibonacci-block__bottom-row">waiting</p>\n                                    </div>',c}var fibonacciDemoContainer=document.querySelector(".fibonacci-demo"),fibonacciWrapper=document.querySelector(".fibonacci-wrapper");function fibonacci(r,e){return new Promise(function(o){setTimeout(function(){var n=void 0,c=(n=fibonacciDemoContainer.hasChildNodes()?fibonacciBlockMaker(r,!1):fibonacciBlockMaker(r,!0)).querySelector(".fibonacci-block__return-value"),i=n.querySelector(".fibonacci-block__function-name");e.append(n),o([n,c,i])},500)}).then(function(n){var c=_slicedToArray(n,3),i=c[0],o=c[1],e=c[2];return 1==r||2==r?new Promise(function(n){setTimeout(function(){n(1)},500)}):new Promise(function(n){n(fibonacci(r-1,i).then(function(c){return fibonacci(r-2,i).then(function(n){return[c,n]})}).then(function(n){var c=_slicedToArray(n,2);return c[0]+c[1]}))}).then(function(c){return new Promise(function(n){setTimeout(function(){o.innerHTML=c.toString(),o.classList.add("fibonacci-block__return-value--returned"),e.classList.add("fibonacci-block__function-name--resolved"),n(c)},500)})})})}fibonacciWrapper.scroll(4400,0),fibonacci(7,fibonacciDemoContainer);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpYm9uYWNjaS5qcyJdLCJuYW1lcyI6WyJmaWJvbmFjY2lCbG9ja01ha2VyIiwibiIsImZpYm9uYWNjaUJsb2NrIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZmlib25hY2NpV3JhcHBlciIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsImZpYm9uYWNjaURlbW9Db250YWluZXIiLCJwYXJlbnRET01SZWYiLCJxdWVyeVNlbGVjdG9yIiwicmVzb2x2ZSIsImZpYm9uYWNjaSIsIlByb21pc2UiLCJmdW5jdGlvblZhbHVlVGV4dCIsInNldFRpbWVvdXQiLCJmdW5jdGlvbk5hbWVCbG9jayIsInRoZW4iLCJfcmVmIiwiX3JlZjIiLCJfc2xpY2VkVG9BcnJheSIsInZhbDEiLCJ2YWwyIiwiX3JlZjMiLCJfcmVmNCIsInZhbHVlIiwidG9TdHJpbmciLCJhZGQiXSwibWFwcGluZ3MiOiJBQUFBLDRhQUVBLFNBQVNBLG9CQUFvQkMsR0FDekIsSUFBSUMsRUFBaUJDLFNBQVNDLGNBQWMsT0FtQjFDQyxPQXBCTkgsRUFBU0YsVUFBb0JDLElBQUcsMEJBS3hCQyxFQUFlSSxVQUhuQkosR0FBQUEsR0FBZUssR0FBZkwsRUFHSSwwTEFEa0JELEVBQ2xCLGdOQVNILGlKQUg0R0EsRUFHNUcsOEtBTUNJLEVBR04sSUFBQUcsdUJBQXNCQyxTQUFjQyxjQUFBLG1CQUNoQ0wsaUJBQW1CRixTQUFDUSxjQUFZLHNCQUd4QixTQUFBQyxVQUFLSixFQUFBQSxHQUVMLE9BQUEsSUFBQUssUUFBSUMsU0FBQUEsR0FDSkMsV0FBSUMsV0FDSlAsSUFBQUEsT0FBQUEsRUFHQUssR0FUSlosRUFPSVMsdUJBQXlCRyxnQkFQN0JkLG9CQUFBQyxHQUFBLEdBT0lELG9CQUFBQyxHQUFBLElBRTREUyxjQUFBLGtDQUFBTSxFQUFBZCxFQUFBUSxjQUFBLG1DQUExRFIsRUFBQUEsT0FBMERBLEdBQTFDWSxFQUFBQSxDQUFBQSxFQUEwQ0EsRUFBQUUsS0FBQSxPQUFqRUMsS0FBSyxTQUFBQyxHQUE0RCxJQUFBQyxFQUFBQyxlQUFBRixFQUFBLEdBQTFEaEIsRUFBMERpQixFQUFBLEdBQTFDTCxFQUEwQ0ssRUFBQSxHQUF2QkgsRUFBdUJHLEVBQUEsR0FDaEUsT0FBUyxHQUFMbEIsR0FBZSxHQUFMQSxFQUNILElBQUlZLFFBQVEsU0FBQUYsR0FDZkksV0FBVyxXQUNQSixFQUFRLElBQ1QsT0FHQSxJQUFJRSxRQUFRLFNBQUFGLEdBRWtDQSxFQURyQ0MsVUFBVVgsRUFBSSxFQUFHQyxHQUFnQmUsS0FBSyxTQUFBSSxHQUM5QyxPQUFPVCxVQUFVWCxFQUFJLEVBQUdDLEdBQWdCZSxLQUFLLFNBQUFLLEdBQUEsTUFBQ0EsQ0FBQUEsRUFBREEsT0FBQUwsS0FBQSxTQUFBTSxHQUFBLElBQUFDLEVBQUFKLGVBQUFHLEVBQUEsR0FBQSxPQUFBQyxFQUFBLEdBQUFBLEVBQUEsUUFDaERQLEtBQUVBLFNBQUFBLEdBQUssT0FBQSxJQUFBSixRQUFBLFNBQUFGLEdBQUFJLFdBQUEsV0FBUU8sRUFBUmhCLFVBQUFtQixFQUFBQyxXQU1BWixFQUFrQlAsVUFBVW9CLElBQUksMkNBTmhDWCxFQUFBVCxVQUFBb0IsSUFBQSw0Q0FGUmhCLEVBQUFjLElBR0FkLFdBckJSSSxpQkFBQUEsT0FBVyxLQUFBLEdBNEJLSixVQUFBQSxFQUFBQSIsImZpbGUiOiJmaWJvbmFjY2kuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5mdW5jdGlvbiBmaWJvbmFjY2lCbG9ja01ha2VyKG4pIHtcclxuICAgIGxldCBmaWJvbmFjY2lCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZmlib25hY2NpQmxvY2suY2xhc3NMaXN0LmFkZCgnZmlib25hY2NpLWJsb2NrX19jaGlsZCcpO1xyXG5cclxuICAgIGlmIChuID09IDEgfHwgbiA9PSAyKSB7XHJcbiAgICAgICAgZmlib25hY2NpQmxvY2suaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJmaWJvbmFjY2ktYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZmlib25hY2NpLWJsb2NrX19mdW5jdGlvbi1uYW1lIGZpYm9uYWNjaS1ibG9ja19fZnVuY3Rpb24tbmFtZS0tcmVzb2x2ZWQgZmlib25hY2NpLWJsb2NrX190b3Atcm93XCI+ZmliKCR7bn0pPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmaWJvbmFjY2ktYmxvY2tfX3JldHVybi12YWx1ZSBmaWJvbmFjY2ktYmxvY2tfX3JldHVybi12YWx1ZS0tcmV0dXJuZWQgZmlib25hY2NpLWJsb2NrX19ib3R0b20tcm93XCI+MTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaWJvbmFjY2lCbG9jay5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImZpYm9uYWNjaS1ibG9ja1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmaWJvbmFjY2ktYmxvY2tfX2Z1bmN0aW9uLW5hbWUgZmlib25hY2NpLWJsb2NrX190b3Atcm93XCI+ZmliKCR7bn0pPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmaWJvbmFjY2ktYmxvY2tfX3JldHVybi12YWx1ZSBmaWJvbmFjY2ktYmxvY2tfX2JvdHRvbS1yb3dcIj53YWl0aW5nPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZpYm9uYWNjaUJsb2NrO1xyXG59XHJcblxyXG5jb25zdCBmaWJvbmFjY2lEZW1vQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpYm9uYWNjaS1kZW1vJyk7XHJcbmNvbnN0IGZpYm9uYWNjaVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlib25hY2NpLXdyYXBwZXInKTtcclxuZmlib25hY2NpV3JhcHBlci5zY3JvbGwoNDQwMCwgMCk7XHJcblxyXG5mdW5jdGlvbiBmaWJvbmFjY2kobiwgcGFyZW50RE9NUmVmKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGZpYm9uYWNjaUJsb2NrO1xyXG4gICAgICAgICAgICBpZiAoIWZpYm9uYWNjaURlbW9Db250YWluZXIuaGFzQ2hpbGROb2RlcygpKSBmaWJvbmFjY2lCbG9jayA9IGZpYm9uYWNjaUJsb2NrTWFrZXIobiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGVsc2UgZmlib25hY2NpQmxvY2sgPSBmaWJvbmFjY2lCbG9ja01ha2VyKG4sIGZhbHNlKTtcclxuICAgICAgICAgICAgbGV0IGZ1bmN0aW9uVmFsdWVUZXh0ID0gZmlib25hY2NpQmxvY2sucXVlcnlTZWxlY3RvcignLmZpYm9uYWNjaS1ibG9ja19fcmV0dXJuLXZhbHVlJyk7XHJcbiAgICAgICAgICAgIGxldCBmdW5jdGlvbk5hbWVCbG9jayA9IGZpYm9uYWNjaUJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5maWJvbmFjY2ktYmxvY2tfX2Z1bmN0aW9uLW5hbWUnKTtcclxuICAgICAgICAgICAgcGFyZW50RE9NUmVmLmFwcGVuZChmaWJvbmFjY2lCbG9jayk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoW2ZpYm9uYWNjaUJsb2NrLCBmdW5jdGlvblZhbHVlVGV4dCwgZnVuY3Rpb25OYW1lQmxvY2tdKTtcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgfSkudGhlbigoW2ZpYm9uYWNjaUJsb2NrLCBmdW5jdGlvblZhbHVlVGV4dCwgZnVuY3Rpb25OYW1lQmxvY2tdKSA9PiB7XHJcbiAgICAgICAgaWYgKG4gPT0gMSB8fCBuID09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDEpO1xyXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBmaWJvbmFjY2kobiAtIDEsIGZpYm9uYWNjaUJsb2NrKS50aGVuKCh2YWwxKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpYm9uYWNjaShuIC0gMiwgZmlib25hY2NpQmxvY2spLnRoZW4oKHZhbDIpID0+IFt2YWwxLCB2YWwyXSk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKChbdmFsMSwgdmFsMl0pID0+IHZhbDEgKyB2YWwyKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9KS50aGVuKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uVmFsdWVUZXh0LmlubmVySFRNTCA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uVmFsdWVUZXh0LmNsYXNzTGlzdC5hZGQoJ2ZpYm9uYWNjaS1ibG9ja19fcmV0dXJuLXZhbHVlLS1yZXR1cm5lZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbk5hbWVCbG9jay5jbGFzc0xpc3QuYWRkKCdmaWJvbmFjY2ktYmxvY2tfX2Z1bmN0aW9uLW5hbWUtLXJlc29sdmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmZpYm9uYWNjaSg3LCBmaWJvbmFjY2lEZW1vQ29udGFpbmVyKSJdfQ==
